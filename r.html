<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–æ–∏—Å–∫ —Ä–µ–≥–∏–æ–Ω–∞</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; font-family: system-ui, -apple-system, sans-serif; }
    body { min-height: 100vh; } /* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ —Ñ–æ–Ω –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
    .animate-fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-ripple {
      position: relative;
      overflow: hidden;
    }
    .animate-ripple::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      animation: ripple 0.6s linear;
      pointer-events: none;
    }
    @keyframes ripple {
      to { width: 200%; height: 200%; opacity: 0; }
    }
    /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ" (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏ —Å–ª–∏—è–Ω–∏–µ) */
    .animate-split {
      animation: split-button 0.3s ease-out forwards;
    }
    @keyframes split-button {
      from { width: 100%; }
      to { width: calc(50% - 0.25rem); } /* –£—á–∏—Ç—ã–≤–∞–µ–º gap-2 (0.5rem) */
    }
    .animate-merge {
      animation: merge-button 0.3s ease-out forwards;
    }
    @keyframes merge-button {
      from { width: calc(50% - 0.25rem); }
      to { width: 100%; }
    }
    /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–î–∞–ª–µ–µ" */
    .animate-next-button {
      animation: fadeInScale 0.3s ease-out forwards;
    }
    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.8) translateY(-10px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    .animate-next-button-exit {
      animation: fadeOutScale 0.3s ease-out forwards;
    }
    @keyframes fadeOutScale {
      from { opacity: 1; transform: scale(1) translateY(0); }
      to { opacity: 0; transform: scale(0.8) translateY(-10px); }
    }
    .theme-transition {
      transition: all 0.3s ease;
    }
    /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏ */
    .site-link-button:hover, .telegram-link-button:hover, .theme-toggle:hover, .answer-button:hover, .next-button:hover, .clear-button:hover, .reset-button:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 20;
    }
    .modal-content {
      background: #ffffff;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      width: 90%;
      max-width: 300px;
    }
    .theme-sepia .modal-content { background: #f5e9c6; }
    .dark .modal-content { background: #374151; }
    .modal-content button {
      width: 100%;
      padding: 10px;
      margin: 5px 0;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      background: transparent;
      color: #111827;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background 0.3s ease;
    }
    .dark .modal-content button { color: #e5e7eb; }
    .theme-sepia .modal-content button { color: #4a3728; }
    .modal-content button:hover { background: rgba(0, 0, 0, 0.1); }
    .theme-circle {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: inline-block;
    }
    .theme-circle.light { background: linear-gradient(to bottom right, #f3f4f6, #e5e7eb); }
    .theme-circle.dark { background: linear-gradient(to bottom right, #1f2937, #111827); }
    .theme-circle.sepia { background: linear-gradient(to bottom right, #f4e8c1, #e6d3a3); }
    /* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ */
    body {
      background: linear-gradient(to bottom right, #f3f4f6, #e5e7eb) fixed;
    }
    .theme-light .theme-toggle, .theme-light .site-link-button, .theme-light .telegram-link-button {
      background: linear-gradient(to bottom right, #f3f4f6, #e5e7eb);
      color: #374151;
    }
    .theme-light .answer-button { background: linear-gradient(to right, #e5e7eb, #d1d5db); color: #374151; }
    .theme-light .next-button, .theme-light .reset-button { background: linear-gradient(to right, #3b82f6, #6366f1); color: #ffffff; }
    .theme-light .clear-button { background: transparent; color: #374151; }
    .theme-light .quiz-question-text { color: #374151; }
    .theme-light .quiz-score-text { color: #374151; }
    /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ */
    body.dark {
      background: linear-gradient(to bottom right, #1f2937, #111827) fixed;
    }
    .theme-dark .theme-toggle, .theme-dark .site-link-button, .theme-dark .telegram-link-button {
      background: linear-gradient(to bottom right, #1f2937, #111827);
      color: #f9fafb; /* –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
    }
    .theme-dark .input-dark {
      background-color: #1f2937;
      color: #f9fafb;
      border-color: #4b5563;
    }
    .theme-dark .title-dark {
      background: linear-gradient(to right, #e5e7eb, #d1d5db);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .theme-dark .result-text { color: #f9fafb; }
    .theme-dark .answer-button { background: linear-gradient(to right, #374151, #4b5563); color: #f9fafb; }
    .theme-dark .next-button, .theme-dark .reset-button { background: linear-gradient(to right, #1e3a8a, #1e40af); color: #f9fafb; }
    .theme-dark .clear-button { background: transparent; color: #f9fafb; }
    .theme-dark .quiz-question-text { color: #f9fafb; }
    .theme-dark .quiz-score-text { color: #f9fafb; }
    /* –°–µ–ø–∏—è-—Ç–µ–º–∞ */
    body.theme-sepia {
      background: linear-gradient(to bottom right, #f4e8c1, #e6d3a3) fixed;
    }
    .theme-sepia .theme-toggle, .theme-sepia .site-link-button, .theme-sepia .telegram-link-button {
      background: linear-gradient(to bottom right, #f4e8c1, #e6d3a3);
      color: #4a3728;
    }
    .theme-sepia .input-dark { background-color: #f9f0d8; border-color: #d9c8a6; color: #4a3728; }
    .theme-sepia .text-red-500 { color: #a94438; }
    .theme-sepia .text-black { color: #4a3728; }
    .theme-sepia .title-dark { color: #4a3728; }
    .theme-sepia .result-text { color: #4a3728; }
    .theme-sepia .answer-button { background: linear-gradient(to right, #f9f0d8, #e2d4b7); color: #4a3728; }
    .theme-sepia .next-button, .theme-sepia .reset-button { background: linear-gradient(to right, #d4a276, #b68a5e); color: #4a3728; }
    .theme-sepia .clear-button { background: transparent; color: #4a3728; }
    .theme-sepia .quiz-question-text { color: #4a3728; }
    .theme-sepia .quiz-score-text { color: #4a3728; }
    /* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã */
    .answer-button.correct { background: #22c55e !important; color: #ffffff !important; }
    .answer-button.incorrect { background: #ef4444 !important; color: #ffffff !important; }
    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏ */
    .input-container { position: relative; }
    .clear-button {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      display: none;
    }
    .input-container input:not(:placeholder-shown) + .clear-button {
      display: block;
    }
    /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ —Å—á—ë—Ç—á–∏–∫–∞ */
    .score-block {
      background: #f3f4f6;
    }
    .dark .score-block { background: #374151; }
    .theme-sepia .score-block { background: #f9f0d8; }
  </style>
</head>
<body class="theme-transition min-h-screen flex flex-col items-center justify-center p-4">
  <div class="fixed top-4 left-1/2 transform -translate-x-1/2 z-10">
    <button id="site-link" class="px-4 py-2 rounded-md site-link-button theme-transition shadow-md animate-ripple" aria-label="–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç">
      –Ω–∞ –≥–ª–∞–≤–Ω—É—é
    </button>
  </div>
  <div class="fixed bottom-4 right-4 z-10">
    <button id="telegram-link" class="p-3 rounded-full telegram-link-button theme-transition shadow-md animate-ripple" aria-label="Telegram –∞–≤—Ç–æ—Ä–∞">
      –ê–≤—Ç–æ—Ä
    </button>
  </div>
  <div class="flex items-center justify-start mb-6 w-full max-w-xs">
    <h1 class="text-3xl font-semibold text-black title-dark">
      –ü–æ–∏—Å–∫ —Ä–µ–≥–∏–æ–Ω–∞
    </h1>
    <button id="theme-toggle" class="ml-4 p-2 rounded-full text-gray-800 dark:text-gray-200 theme-toggle theme-transition shadow-md" aria-label="–í—ã–±—Ä–∞—Ç—å —Ç–µ–º—É">
      <span class="text-xl">üé®</span>
    </button>
  </div>
  <div id="theme-modal" class="modal">
    <div class="modal-content">
      <button onclick="setTheme('light')">
        –°–≤–µ—Ç–ª–∞—è <span class="theme-circle light"></span>
      </button>
      <button onclick="setTheme('dark')">
        –¢–µ–º–Ω–∞—è <span class="theme-circle dark"></span>
      </button>
      <button onclick="setTheme('sepia')">
        –°–µ–ø–∏—è <span class="theme-circle sepia"></span>
      </button>
    </div>
  </div>
  <div class="w-full max-w-xs mb-6 text-left">
    <div class="input-container">
      <input
        id="region-code"
        type="tel"
        inputmode="numeric"
        placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Ä–µ–≥–∏–æ–Ω–∞ (1-799)"
        class="w-full p-3 border rounded-lg input-dark focus:outline-none focus:ring-2 focus:ring-blue-400 theme-transition"
      >
      <button id="clear-input" class="clear-button theme-transition animate-ripple">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <p id="search-result" class="mt-4 text-center text-xl font-medium text-gray-800 result-text hidden animate-fade-in"></p>
    <p id="search-error" class="mt-4 text-center text-red-500 dark:text-red-400 hidden animate-fade-in"></p>
  </div>
  <div class="w-full max-w-xs text-left">
    <p id="quiz-question" class="text-left text-2xl font-semibold mb-4 quiz-question-text"></p>
    <div id="quiz-answers" class="flex flex-col gap-2">
      <button id="answer1" class="p-3 rounded-lg answer-button theme-transition animate-ripple"></button>
      <button id="answer2" class="p-3 rounded-lg answer-button theme-transition animate-ripple"></button>
    </div>
    <div id="quiz-score" class="flex justify-center gap-4 mt-4 score-block p-3 rounded-lg">
      <div>
        <span class="text-lg font-medium quiz-score-text">–í–µ—Ä–Ω–æ:</span>
        <span id="correct-count" class="text-lg font-medium quiz-score-text">0</span>
      </div>
      <div>
        <span class="text-lg font-medium quiz-score-text">–ù–µ–≤–µ—Ä–Ω–æ:</span>
        <span id="incorrect-count" class="text-lg font-medium quiz-score-text">0</span>
      </div>
    </div>
    <div class="flex gap-2 mt-4">
      <button id="next-button" class="w-1/2 p-3 rounded-lg next-button theme-transition animate-ripple hidden">
        –î–∞–ª–µ–µ
      </button>
      <button id="reset-score" class="w-full p-3 rounded-lg reset-button theme-transition animate-ripple">
        –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
      </button>
    </div>
  </div>
<script>
  // –û–±—ä–µ–∫—Ç —Ä–µ–≥–∏–æ–Ω–æ–≤
  const regions = {
      "01": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è",
      "02": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω",
      "03": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë—É—Ä—è—Ç–∏—è",
      "04": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–ª—Ç–∞–π",
      "05": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –î–∞–≥–µ—Å—Ç–∞–Ω",
      "06": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ò–Ω–≥—É—à–µ—Ç–∏—è",
      "07": "–ö–∞–±–∞—Ä–¥–∏–Ω–æ-–ë–∞–ª–∫–∞—Ä—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞",
      "08": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞–ª–º—ã–∫–∏—è",
      "09": "–ö–∞—Ä–∞—á–∞–µ–≤–æ-–ß–µ—Ä–∫–µ—Å—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞",
      "10": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è",
      "11": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏",
      "12": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞—Ä–∏–π –≠–ª",
      "13": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–æ—Ä–¥–æ–≤–∏—è",
      "14": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)",
      "15": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–µ–≤–µ—Ä–Ω–∞—è –û—Å–µ—Ç–∏—è-–ê–ª–∞–Ω–∏—è",
      "16": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω",
      "17": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢—ã–≤–∞",
      "18": "–£–¥–º—É—Ä—Ç—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞",
      "19": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –•–∞–∫–∞—Å–∏—è",
      "21": "–ß—É–≤–∞—à—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞",
      "22": "–ê–ª—Ç–∞–π—Å–∫–∏–π –∫—Ä–∞–π",
      "23": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "24": "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "25": "–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "26": "–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π –∫—Ä–∞–π",
      "27": "–•–∞–±–∞—Ä–æ–≤—Å–∫–∏–π –∫—Ä–∞–π",
      "28": "–ê–º—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "29": "–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "30": "–ê—Å—Ç—Ä–∞—Ö–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "31": "–ë–µ–ª–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "32": "–ë—Ä—è–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "33": "–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "34": "–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "35": "–í–æ–ª–æ–≥–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "36": "–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "37": "–ò–≤–∞–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "38": "–ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "39": "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "40": "–ö–∞–ª—É–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "41": "–ö–∞–º—á–∞—Ç—Å–∫–∏–π –∫—Ä–∞–π",
      "42": "–ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "43": "–ö–∏—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "44": "–ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "45": "–ö—É—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "46": "–ö—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "47": "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "48": "–õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "49": "–ú–∞–≥–∞–¥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "50": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "51": "–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "52": "–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "53": "–ù–æ–≤–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "54": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "55": "–û–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "56": "–û—Ä–µ–Ω–±—É—Ä–≥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "57": "–û—Ä–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "58": "–ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "59": "–ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π",
      "60": "–ü—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "61": "–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "62": "–†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "63": "–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "64": "–°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "65": "–°–∞—Ö–∞–ª–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "66": "–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "67": "–°–º–æ–ª–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "68": "–¢–∞–º–±–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "69": "–¢–≤–µ—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "70": "–¢–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "71": "–¢—É–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "72": "–¢—é–º–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "73": "–£–ª—å—è–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "74": "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "75": "–ó–∞–±–∞–π–∫–∞–ª—å—Å–∫–∏–π –∫—Ä–∞–π",
      "76": "–Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "77": "–ú–æ—Å–∫–≤–∞",
      "78": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "79": "–ï–≤—Ä–µ–π—Å–∫–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å",
      "83": "–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥",
      "86": "–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥",
      "87": "–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥",
      "89": "–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥",
      "92": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º",
      "93": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "94": "–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –†–§",
      "95": "–ß–µ—á–µ–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞",
      "96": "–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "97": "–ú–æ—Å–∫–≤–∞",
      "98": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "99": "–ú–æ—Å–∫–≤–∞",
      "102": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω",
      "113": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–æ—Ä–¥–æ–≤–∏—è",
      "116": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω",
      "121": "–ß—É–≤–∞—à—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞",
      "123": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "124": "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "125": "–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "126": "–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π –∫—Ä–∞–π",
      "134": "–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "136": "–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "138": "–ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "142": "–ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "150": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "152": "–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "154": "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "159": "–ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π",
      "161": "–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "163": "–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "164": "–°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "173": "–£–ª—å—è–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "174": "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "177": "–ú–æ—Å–∫–≤–∞",
      "178": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "186": "–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥",
      "190": "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "193": "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π",
      "196": "–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
      "197": "–ú–æ—Å–∫–≤–∞",
      "198": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
      "199": "–ú–æ—Å–∫–≤–∞",
      "777": "–ú–æ—Å–∫–≤–∞",
      "799": "–ú–æ—Å–∫–≤–∞",
    };

  // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
  const input = document.getElementById('region-code');
  const clearInput = document.getElementById('clear-input');
  const searchResult = document.getElementById('search-result');
  const searchError = document.getElementById('search-error');
  const quizQuestion = document.getElementById('quiz-question');
  const answer1 = document.getElementById('answer1');
  const answer2 = document.getElementById('answer2');
  const quizScore = document.getElementById('quiz-score');
  const correctCount = document.getElementById('correct-count');
  const incorrectCount = document.getElementById('incorrect-count');
  const nextButton = document.getElementById('next-button');
  const resetScore = document.getElementById('reset-score');
  const themeToggle = document.getElementById('theme-toggle');
  const themeModal = document.getElementById('theme-modal');
  const siteLink = document.getElementById('site-link');
  const telegramLink = document.getElementById('telegram-link');

  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏
  const themes = ['light', 'dark', 'sepia'];
  let currentTheme = localStorage.getItem('theme') || 'light';

  function applyTheme(theme) {
    document.body.classList.remove('dark', 'theme-sepia', 'theme-light', 'theme-dark', 'theme-sepia');
    document.body.classList.add(`theme-${theme}`);
    if (theme === 'dark') {
      document.body.classList.add('dark');
    } else if (theme === 'sepia') {
      document.body.classList.add('theme-sepia');
    }
    localStorage.setItem('theme', theme);
    console.log('–¢–µ–∫—É—â–∞—è —Ç–µ–º–∞:', theme);
    console.log('–ö–ª–∞—Å—Å—ã body:', document.body.className);
  }

  function setTheme(theme) {
    currentTheme = theme;
    applyTheme(theme);
    themeModal.style.display = 'none';
  }

  applyTheme(currentTheme);

  themeToggle.addEventListener('click', () => {
    themeModal.style.display = 'block';
  });

  window.addEventListener('click', (e) => {
    if (e.target === themeModal) {
      themeModal.style.display = 'none';
    }
  });

  siteLink.addEventListener('click', () => {
    window.open('https://nkego.github.io/s/x.html', '_blank');
  });

  telegramLink.addEventListener('click', () => {
    window.open('https://t.me/nkego', '_blank');
  });

  // –§—É–Ω–∫—Ü–∏—è debounce
  function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
      const later = () => {
        clearTimeout(timeout);
        func(...args);
      };
      clearTimeout(timeout);
      timeout = setTimeout(later, wait);
    };
  }

  // –ü–æ–∏—Å–∫ –ø–æ –≤–≤–æ–¥—É
  const performSearch = () => {
    const code = input.value.trim();
    if (code && regions[code]) {
      searchResult.textContent = `–†–µ–≥–∏–æ–Ω: ${regions[code]}`;
      searchResult.classList.remove('hidden');
      searchResult.classList.add('animate-fade-in');
      searchError.classList.add('hidden');
    } else if (code) {
      searchError.textContent = '–Ω–µ –Ω–∞–π–¥–µ–Ω((';
      searchError.classList.remove('hidden');
      searchError.classList.add('animate-fade-in');
      searchResult.classList.add('hidden');
    } else {
      searchResult.classList.add('hidden');
      searchError.classList.add('hidden');
    }
    clearInput.style.display = code ? 'block' : 'none';
  };

  const debouncedSearch = debounce(performSearch, 500);

  input.addEventListener('input', () => {
    const value = input.value.replace(/\D/g, '');
    if (value.length <= 3) {
      input.value = value;
      debouncedSearch();
    }
  });

  input.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      performSearch();
    }
  });

  clearInput.addEventListener('click', () => {
    input.value = '';
    searchResult.classList.add('hidden');
    searchError.classList.add('hidden');
    clearInput.style.display = 'none';
  });

  // –í–∏–∫—Ç–æ—Ä–∏–Ω–∞
  let currentRegionCode = '';
  let correctRegion = '';
  let correctAnswers = 0;
  let incorrectAnswers = 0;

  function updateScore() {
    correctCount.textContent = correctAnswers;
    incorrectCount.textContent = incorrectAnswers;
  }

  function generateQuiz() {
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
    answer1.classList.remove('correct', 'incorrect');
    answer2.classList.remove('correct', 'incorrect');
    if (!nextButton.classList.contains('hidden')) {
      nextButton.classList.add('animate-next-button-exit');
      resetScore.classList.add('animate-merge');
      setTimeout(() => {
        nextButton.classList.add('hidden');
        nextButton.classList.remove('animate-next-button-exit');
        resetScore.classList.remove('animate-merge');
        resetScore.classList.remove('animate-split');
      }, 300);
    }
    answer1.disabled = false;
    answer2.disabled = false;

    // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –∫–æ–¥ —Ä–µ–≥–∏–æ–Ω–∞
    const regionCodes = Object.keys(regions);
    currentRegionCode = regionCodes[Math.floor(Math.random() * regionCodes.length)];
    correctRegion = regions[currentRegionCode];

    // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–≥–∏–æ–Ω
    let wrongRegion = correctRegion;
    while (wrongRegion === correctRegion) {
      wrongRegion = regions[regionCodes[Math.floor(Math.random() * regionCodes.length)]];
    }

    // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞
    const answers = [correctRegion, wrongRegion];
    const shuffledAnswers = answers.sort(() => Math.random() - 0.5);

    quizQuestion.textContent = `–ö–æ–¥ —Ä–µ–≥–∏–æ–Ω–∞: ${currentRegionCode}`;
    quizQuestion.classList.add('animate-fade-in');
    answer1.textContent = shuffledAnswers[0];
    answer2.textContent = shuffledAnswers[1];
    answer1.classList.add('animate-fade-in');
    answer2.classList.add('animate-fade-in');
    updateScore();
  }

  function checkAnswer(selectedRegion, button) {
    answer1.disabled = true;
    answer2.disabled = true;
    if (selectedRegion === correctRegion) {
      button.classList.add('correct');
      correctAnswers++;
    } else {
      button.classList.add('incorrect');
      incorrectAnswers++;
      if (answer1.textContent === correctRegion) {
        answer1.classList.add('correct');
      } else {
        answer2.classList.add('correct');
      }
    }
    updateScore();
    nextButton.classList.remove('hidden');
    nextButton.classList.add('animate-next-button');
    resetScore.classList.add('animate-split');
  }

  function resetQuiz() {
    correctAnswers = 0;
    incorrectAnswers = 0;
    updateScore();
    generateQuiz();
  }

  answer1.addEventListener('click', () => checkAnswer(answer1.textContent, answer1));
  answer2.addEventListener('click', () => checkAnswer(answer2.textContent, answer2));
  nextButton.addEventListener('click', generateQuiz);
  resetScore.addEventListener('click', resetQuiz);

  // –ê–Ω–∏–º–∞—Ü–∏—è ripple –¥–ª—è –∫–Ω–æ–ø–æ–∫
  function addRippleEffect(button) {
    button.addEventListener('click', (e) => {
      const rect = button.getBoundingClientRect();
      const ripple = document.createElement('span');
      ripple.className = 'absolute bg-white opacity-30 rounded-full';
      const size = Math.max(rect.width, rect.height);
      ripple.style.width = ripple.style.height = `${size}px`;
      ripple.style.left = `${e.clientX - rect.left - size / 2}px`;
      ripple.style.top = `${e.clientY - rect.top - size / 2}px`;
      ripple.style.transform = 'scale(0)';
      ripple.animate(
        { transform: 'scale(4)', opacity: 0 },
        { duration: 600, easing: 'ease-out' }
      );
      button.appendChild(ripple);
      setTimeout(() => ripple.remove(), 600);
    });
  }

  addRippleEffect(siteLink);
  addRippleEffect(telegramLink);
  addRippleEffect(answer1);
  addRippleEffect(answer2);
  addRippleEffect(nextButton);
  addRippleEffect(clearInput);
  addRippleEffect(resetScore);

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
  generateQuiz();
</script>
</body>
</html>
